@model ILoginStatus
@if (Model.ShowLoginStatus)
{
    <ul class="nav navbar-nav navbar-right">
        @if (Model.IsLoggedIn)
        {
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                    @if (Model.ShowImage)
                    {
                        <div class="circle-image-small img-responsive pull-left" @Html.DisplayBackgroundImage(Model.ImageUrl)></div>
                    }
                    @Model.Name <span class="caret"></span>
                </a>
                <ul class="dropdown-menu">
                    <li><a href="#">Edit profile</a></li>
                    <li role="separator" class="divider"></li>
                    <li>
                        @using (Html.BeginUmbracoForm<LogoutController>("Logout", null, new { id = "logout-form", @class = "navbar-form" }, FormMethod.Post))
                        {
                            @Html.AntiForgeryToken()
                            <a href="#" class="submit">
                                <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span> Sign out
                            </a>
                        }
                    </li>
                </ul>
            </li>
        }
        else
        {
            <li>
                <a href="@Model.Login.Url">
                    <span class="glyphicon glyphicon-log-in" aria-hidden="true"></span> Log in
                </a>
            </li>
        }
    </ul>
}